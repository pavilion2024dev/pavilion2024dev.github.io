import{a as G,g as A,s as J,b as T,r as Z}from"./C7BYAljg.js";import{$ as z,F as V,ah as ee,i as te,au as ne,av as re}from"./se-oR36g.js";import"./DJAbd26x.js";let L=!1,P=Symbol();function Ue(e,t,n){const r=n[t]??(n[t]={store:null,source:V(void 0),unsubscribe:z});if(r.store!==e&&!(P in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=z;else{var i=!0;r.unsubscribe=G(e,s=>{i?r.source.v=s:ee(r.source,s)}),i=!1}return e&&P in n?A(e):te(r.source)}function ke(e,t){return e.set(t),t}function Ae(){const e={};function t(){ne(()=>{for(var n in e)e[n].unsubscribe();re(e,P,{enumerable:!1,value:!0})})}return[e,t]}function Ne(e){var t=L;try{return L=!1,[e(),L]}finally{L=t}}const ae={i18n:{default:"en"}},se=()=>{const e=J;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},ie={subscribe(e){return se().page.subscribe(e)}};function ce(e,t){if(e==="")return"";const n=new URL(e,t).pathname;return n.endsWith("/")?n.slice(0,-1):n}function S(e,t){const n=le(e),r=oe(n,t),[i,s]=ue(r);return[i,s]}const B=(e,t,n)=>[t,e,n??""].filter(r=>r!=="/").join("")||"/";function oe(e,t){const n=e.replace(t,"");return n.startsWith("/")?n:`/${n}`}function ue(e){const n=["/.html__data.json","/__data.json"].find(r=>e.endsWith(r));return n?[e.slice(0,-n.length)||"/",n]:[e,void 0]}function le(e){try{return decodeURI(e)}catch{return e}}const fe=e=>({url:t})=>{try{const[n,r]=S(t.pathname,T),i=e.getLanguageFromLocalisedPath(n);if(!i)return t.pathname;const s=e.getCanonicalPath(n,i);return B(s,T,r)}catch{return t.pathname}};function ge(e){return`/${e.split("/").filter(Boolean).join("/")}`}function de(e){const t=e.map(n=>typeof n=="string"?r=>r===n:r=>n.test(r));return n=>t.some(r=>r(ge(n)))}const w="rtl",E="ltr";function he(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===w?w:E:t.getTextInfo().direction===w?w:E}catch{return E}}function me(e){const t=e.map(n=>[n,he(n)]);return Object.fromEntries(t)}const _e=0,M=1,y=2,pe=4,_=0,v=1,I=2;function be(e){const t=ve(xe);return e.sort((n,r)=>{var i,s,c,o,a,u;const l=U(n).map(t),f=U(r).map(t);for(let g=0;g<Math.max(l.length,f.length);g+=1){const m=l[g],p=f[g];if(!m)return-1;if(!p)return 1;for(let b=0;b<Math.max(m.length,p.length);b+=1){const d=m[b],h=p[b];if((d==null?void 0:d[_])||(h==null?void 0:h[_])){if(!d)return-1;if(!h)return 1;const $=((i=m[b+1])==null?void 0:i[v])||((c=(s=l[g+1])==null?void 0:s[0])==null?void 0:c[v]),j=((o=p[b+1])==null?void 0:o[v])||((u=(a=f[g+1])==null?void 0:a[0])==null?void 0:u[v]),q=$&&j,W=$&&!j,C=!$&&j;if((d[_]&&h[_])===y){if(q)continue;if(W)return-1;if(C)return 1}if(d[_]===y)return W?-1:1;if(h[_]===y)return C?1:-1;if(d[I]!==h[I])return(-1)**+d[I];if(d[_]!==h[_])return(-1)**+(d[_]>h[_])}else if((d==null?void 0:d[v])!==(h==null?void 0:h[v]))return Te(d[v],h[v])}}return n<r?1:-1})}function ve(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}function xe(e){const t=[];let n=0;for(;n<=e.length;){const r=e.indexOf("[",n),i=r===-1;if(t.push([_e,e.slice(n,i?void 0:r),!1]),i)break;const s=e[r+1]==="["?M:e[r+1]==="."?y:pe,c=s===M?"]]":"]",o=e.indexOf(c,r);if(o===-1)throw new Error(`Invalid route definition ${e}`);const a=e.slice(r,n=o+c.length);t.push([s,a,a.includes("=")])}return t}const U=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function Te(e,t){if(e===t)return 0;let n=0;for(;e[n]===t[n];)n++;return e[n]?t[n]?e[n]<t[n]?-1:1:-1:1}const Le=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function we(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${X(e).map(r=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(i)return t.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(s)return t.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const c=r.split(/\[(.+?)\](?!\])/);return"/"+c.map((a,u)=>{if(u%2){if(a.startsWith("x+"))return O(String.fromCharCode(parseInt(a.slice(2),16)));if(a.startsWith("u+"))return O(String.fromCharCode(...a.slice(2).split("-").map(b=>parseInt(b,16))));const l=Le.exec(a);if(!l)throw new Error(`Invalid param: ${a}`);const[,f,g,m,p]=l;return t.push({name:m,matcher:p,optional:!!f,rest:!!g,chained:g?u===1&&c[0]==="":!1}),g?"(.*?)":f?"([^/]*)?":"([^/]+?)"}return O(a)}).join("")}).join("")}/?$`),params:t}}function Se(e,t,n){const r={},i=e.slice(1),s=i.filter(o=>o!==void 0);let c=0;for(const[o,a]of t.entries()){let u=i[o-c];if(a.chained&&a.rest&&c&&(u=i.slice(o-c,o+1).filter(f=>f).join("/"),c=0),u===void 0){a.rest&&(r[a.name]="");continue}if(a.matcher&&!n[a.matcher])return;if((n[a.matcher]??(()=>!0))(u)){r[a.name]=u;const f=t[o+1],g=i[o+1];f&&!f.rest&&f.optional&&g&&a.chained&&(c=0),!f&&!g&&Object.keys(r).length===s.length&&(c=0);continue}if(a.optional&&a.chained){c++;continue}return}if(!c)return r}function O(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const ye=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function N(e,t){return"/"+X(e).map(n=>n.replace(ye,(r,i,s,c)=>{const o=t[c];if(!o){if(i||s&&o!==void 0)return"";throw new Error(`Missing parameter '${c}' in route ${e}`)}if(o[0]=="/"||o.endsWith("/"))throw new Error(`Parameter '${c}' in route ${e} cannot start or end with a slash`);return o})).filter(Boolean).join("/")}function K(e,t,n){const r=be(t);for(const i of r){const s=we(i),c=s.pattern.exec($e(e));if(!c)continue;const o=Se(c,s.params,n);if(o)return{params:o,id:i}}}const $e=e=>e.endsWith("/")?e.slice(0,-1):e,X=e=>e.slice(1).split("/"),je=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r])=>[n,typeof r=="object"?r:Ee(r,t)])),Ee=(e,t)=>Object.fromEntries(t.map(n=>[n,e({},{languageTag:n})]));function Ie(e,t,n,r,i){function s(a){const l=a.split("/")[1];if(e.includes(l)&&(i==="always"||l!==t))return l;if(i==="never")return t}function c(a,u){const l=a.endsWith("/")&&a!=="/";a=l?a.slice(0,-1):a;let f=Re(a,u,n,r);return l&&(f+="/"),(i==="always"||u!==t)&&(f=`/${u}${f}`),f}function o(a,u){const l=a.endsWith("/")&&a!=="/";(i==="always"||u!==t)&&(a=a.replace(`/${u}`,"")||"/");const f=l;a=f?a.slice(0,-1):a;let g=Oe(a,u,n,r);return f&&(g+="/"),g}return{getLanguageFromLocalisedPath:s,getLocalisedPath:c,getCanonicalPath:o}}function Oe(e,t,n,r){for(const[i,s]of Object.entries(n)){if(!(t in s))continue;const c=s[t];if(!c)continue;const o=K(e,[c],r);if(o)return N(i,o.params)}return e}function Re(e,t,n,r){const i=K(e,Object.keys(n),r);if(!i)return e;const s=n[i.id];if(!s)return e;const c=s[t];return c?N(c,i.params):e}function Pe(e,t){var o;const n=t!=null&&t.pathnames?je(t.pathnames,e.availableLanguageTags):{},r=(t==null?void 0:t.exclude)??[],i=(t==null?void 0:t.defaultLanguageTag)??e.sourceLanguageTag,s={defaultLanguageTag:i,runtime:e,translations:n,matchers:(t==null?void 0:t.matchers)??{},exclude:de(r),prefixDefaultLanguage:(t==null?void 0:t.prefixDefaultLanguage)??"never",textDirection:(t==null?void 0:t.textDirection)??me(e.availableLanguageTags),seo:{noAlternateLinks:((o=t==null?void 0:t.seo)==null?void 0:o.noAlternateLinks)??!1}},c=Ie(e.availableLanguageTags,i,s.translations,s.matchers,s.prefixDefaultLanguage);return Object.freeze(n),Object.freeze(s),{config:s,strategy:c,reroute:()=>fe(c),handle:()=>{throw new Error("")},getLanguageFromUrl(a){const u=R(T),[l]=S(a.pathname,u);return s.exclude(l)?s.defaultLanguageTag:c.getLanguageFromLocalisedPath(l)||s.defaultLanguageTag},resolveRoute(a,u=void 0){if(s.exclude(a))return a;const l=R(T),[f,g]=S(a,l);if(u=u??e.languageTag(),!a.startsWith(l))return a;const m=c.getLocalisedPath(f,u);return B(m,l,g)},route(a){const u=R(T),[l,f]=S(a,u),m=c.getLanguageFromLocalisedPath(l)||s.defaultLanguageTag,p=c.getCanonicalPath(l,m);return B(p,u,f)}}}function R(e){return e===""?"":e.startsWith("/")?e:ce(e,new URL(A(ie).url))}let D;const H="en",Q=["en","ko"];let x=()=>H;const Be=e=>{typeof e=="function"?x=k(e):x=k(()=>e),D!==void 0&&D(x())};function k(e){return()=>{const t=e();if(!F(t))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return t}}const Y=e=>{D=e};function F(e){return Q.includes(e)}const De=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:Q,isAvailableLanguageTag:F,get languageTag(){return x},onSetLanguageTag:Y,setLanguageTag:Be,sourceLanguageTag:H},Symbol.toStringTag,{value:"Module"}));new TextEncoder;const Fe=e=>F(e)?e:"en",Ke=Pe(De,{defaultLanguageTag:Fe(ae.i18n.default)}),Xe=Z(x(),e=>{e(x()),Y(()=>{e(x())})});export{Ue as a,Ne as b,ae as c,B as d,S as e,x as f,Q as g,ke as h,Ke as i,Xe as l,ce as n,ie as p,Ae as s};
