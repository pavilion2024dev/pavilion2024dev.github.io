import{i as Z,h as x,j as re,C as X,N as ne,H as ie,k as B,l as g,m as k,w as R,O as fe,n as $,o as b,v as le,P as D,Q as z,R as J,T as Q,V as se,W as U,X as ue,Y as O,Z as te,_ as ve,$ as de,a0 as G,a1 as y,a2 as _e,I as oe,M as ce,J as he,a3 as K,q as pe,a4 as Ee,E as Te,a5 as Ae}from"./BrbKiInh.js";function Ne(f,e){return e}function Ie(f,e,a,s){for(var u=[],t=e.length,d=0;d<t;d++)te(e[d].e,u,!0);var o=t>0&&u.length===0&&a!==null;if(o){var T=a.parentNode;ve(T),T.append(a),s.clear(),C(f,e[0].prev,e[t-1].next)}de(u,()=>{for(var h=0;h<t;h++){var _=e[h];o||(s.delete(_.k),C(f,_.prev,_.next)),G(_.e,!o)}})}function Re(f,e,a,s,u,t=null){var d=f,o={flags:e,items:new Map,first:null},T=(e&K)!==0;if(T){var h=f;d=x?g(ce(h)):h.appendChild(he())}x&&re();var _=null,N=!1,i=ne(()=>{var v=a();return ue(v)?v:v==null?[]:z(v)});Z(()=>{var v=X(i),r=v.length;if(N&&r===0)return;N=r===0;let I=!1;if(x){var p=d.data===ie;p!==(r===0)&&(d=B(),g(d),k(!1),I=!0)}if(x){for(var E=null,A,c=0;c<r;c++){if(R.nodeType===8&&R.data===fe){d=R,I=!0,k(!1);break}var n=v[c],l=s(n,c);A=j(R,o,E,null,n,l,c,u,e,a),o.items.set(l,A),E=A}r>0&&g(B())}x||me(v,o,d,u,e,s,a),t!==null&&(r===0?_?$(_):_=b(()=>t(d)):_!==null&&le(_,()=>{_=null})),I&&k(!0),X(i)}),x&&(d=R)}function me(f,e,a,s,u,t,d){var q,V,Y,F;var o=(u&Ee)!==0,T=(u&(y|O))!==0,h=f.length,_=e.items,N=e.first,i=N,v,r=null,I,p=[],E=[],A,c,n,l;if(o)for(l=0;l<h;l+=1)A=f[l],c=t(A,l),n=_.get(c),n!==void 0&&((q=n.a)==null||q.measure(),(I??(I=new Set)).add(n));for(l=0;l<h;l+=1){if(A=f[l],c=t(A,l),n=_.get(c),n===void 0){var ee=i?i.e.nodes_start:a;r=j(ee,e,r,r===null?e.first:r.next,A,c,l,s,u,d),_.set(c,r),p=[],E=[],i=r.next;continue}if(T&&xe(n,A,l,u),(n.e.f&D)!==0&&($(n.e),o&&((V=n.a)==null||V.unfix(),(I??(I=new Set)).delete(n))),n!==i){if(v!==void 0&&v.has(n)){if(p.length<E.length){var H=E[0],m;r=H.prev;var L=p[0],S=p[p.length-1];for(m=0;m<p.length;m+=1)W(p[m],H,a);for(m=0;m<E.length;m+=1)v.delete(E[m]);C(e,L.prev,S.next),C(e,r,L),C(e,S,H),i=H,r=S,l-=1,p=[],E=[]}else v.delete(n),W(n,i,a),C(e,n.prev,n.next),C(e,n,r===null?e.first:r.next),C(e,r,n),r=n;continue}for(p=[],E=[];i!==null&&i.k!==c;)(i.e.f&D)===0&&(v??(v=new Set)).add(i),E.push(i),i=i.next;if(i===null)continue;n=i}p.push(n),r=n,i=n.next}if(i!==null||v!==void 0){for(var w=v===void 0?[]:z(v);i!==null;)(i.e.f&D)===0&&w.push(i),i=i.next;var M=w.length;if(M>0){var ae=(u&K)!==0&&h===0?a:null;if(o){for(l=0;l<M;l+=1)(Y=w[l].a)==null||Y.measure();for(l=0;l<M;l+=1)(F=w[l].a)==null||F.fix()}Ie(e,w,ae,_)}}o&&pe(()=>{var P;if(I!==void 0)for(n of I)(P=n.a)==null||P.apply()}),J.first=e.first&&e.first.e,J.last=r&&r.e}function xe(f,e,a,s){(s&y)!==0&&Q(f.v,e),(s&O)!==0?Q(f.i,a):f.i=a}function j(f,e,a,s,u,t,d,o,T,h){var _=(T&y)!==0,N=(T&_e)===0,i=_?N?se(u):U(u):u,v=(T&O)===0?d:U(d),r={i:v,v:i,k:t,a:null,e:null,prev:a,next:s};try{return r.e=b(()=>o(f,i,v,h),x),r.e.prev=a&&a.e,r.e.next=s&&s.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),s!==null&&(s.prev=r,s.e.prev=r.e),r}finally{}}function W(f,e,a){for(var s=f.next?f.next.e.nodes_start:a,u=e?e.e.nodes_start:a,t=f.e.nodes_start;t!==s;){var d=oe(t);u.before(t),t=d}}function C(f,e,a){e===null?f.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function we(f,e,...a){var s=f,u=Ae,t;Z(()=>{u!==(u=e())&&(t&&(G(t),t=null),t=b(()=>u(s,...a)))},Te),x&&(s=R)}export{Re as e,Ne as i,we as s};
